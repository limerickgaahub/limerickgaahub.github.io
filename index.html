<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Limerick GAA Hub</title>
<meta name="color-scheme" content="light only">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<style>
/* THEME */
:root{
  --card:#ffffff; --muted:#6b7280; --accent:#006B3C; --accent-2:#88C999;
  --line:#e9ecef; --text:#111; --bg:#f6f7f8;
}
*{ box-sizing:border-box; }
html{ -webkit-text-size-adjust:100%; text-size-adjust:100%; }
body{
  margin:70px 20px 20px;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;
}
h1{ margin:0; font-weight:800; font-size:20px; }
h2{ margin:0 0 8px; font-size:16px; }
.sm-muted{ color:#6b7280; font-size:12px; }

/* Competition (mobile) alignment */
td.rcol, th.rcol { vertical-align: middle; }      /* center R vertically */
td.vcol, th.vcol { text-align: center; vertical-align: middle; }  /* center Venue */
td.dcol, th.dcol,
td.tcol, th.tcol { text-align: left; }            /* Date/Time left */
  
/* Header */
.header{ position:fixed; top:0; left:0; right:0; z-index:100; background:#fff; border-bottom:1px solid var(--line); }
.header::before{ content:""; display:block; height:4px; background:var(--accent); }
.header-inner{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 16px; max-width:1100px; margin:0 auto; }
.brand{ display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit; }
.brand img{ width:20px; height:20px; }
.navtabs{ display:flex; gap:8px; align-items:center; }
.navtab{ padding:8px 12px; border-radius:999px; background:#ececec; cursor:pointer; font-weight:700; border:1px solid transparent; }
.navtab.active{ background:var(--accent); color:#fff; border-color:var(--accent); }

/* Burger / offcanvas */
.burger{ display:none; background:none; border:none; font-size:20px; padding:8px; }
.offcanvas{ position:fixed; inset:0 0 0 auto; width:80%; max-width:320px; background:#fff; box-shadow:-10px 0 24px rgba(0,0,0,.12); transform:translateX(100%); transition:transform .25s ease; z-index:120; }
.offcanvas.open{ transform:translateX(0); }
.offcanvas .oc-head{ padding:14px 16px; font-weight:800; border-bottom:1px solid var(--line); }
.offcanvas .oc-body{ padding:10px; display:flex; flex-direction:column; gap:8px; }
.offcanvas .oc-link{ padding:10px 12px; border-radius:12px; background:#f6f7f8; cursor:pointer; font-weight:700; }
.oc-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.25); opacity:0; pointer-events:none; transition:opacity .2s; z-index:110; }
.oc-backdrop.show{ opacity:1; pointer-events:auto; }

/* Cards & sections */
.card{ background:#fff; border-radius:18px; box-shadow:0 8px 24px rgba(0,0,0,.05); padding:14px; max-width:1100px; margin:0 auto; }
.section-tabs{ display:flex; gap:10px; margin:6px 0 12px; flex-wrap:wrap; }
.section-tabs .seg{ padding:9px 14px; border-radius:999px; background:#efefef; cursor:pointer; font-weight:800; border:1px solid transparent; }
.section-tabs .seg.active{ background:var(--accent); color:#fff; border-color:var(--accent); }

/* Competition dropdown */
.menu{ position:absolute; min-width:280px; background:#fff; border:1px solid var(--line); border-radius:12px; box-shadow:0 8px 28px rgba(0,0,0,.12); padding:6px; display:none; max-height:60vh; overflow:auto; z-index:130; }
.menu.open{ display:block; }
.menu .item{ padding:12px 14px; border-radius:10px; cursor:pointer; font-weight:700; }
.menu .item:hover,.menu .item.active{ background:#f1f9f4; }

/* Selected label */
.comp-selected{ margin:8px 0 10px; font-weight:800; font-size:15px; color:#1f2937; }

/* Share bar */
.sharebar{ display:flex; align-items:center; gap:8px; margin:12px 0 0; }
.sharebar .spacer{ flex:1; }
.iconbtn{ display:inline-flex; align-items:center; justify-content:center; gap:6px; padding:8px 10px; border-radius:10px; border:1px solid var(--line); background:#fff; cursor:pointer; font-weight:700; font-size:13px; }
.iconbtn i{ font-size:14px; }

/* Tables */
.table-wrap{ overflow-x:hidden; border-radius:14px; border:1px solid var(--line); background:#fff; min-width:0; }
table{ width:100%; border-collapse:separate; border-spacing:0; table-layout:fixed; }
thead th{
  position:sticky; top:0; background:#f8fafb; border-bottom:1px solid var(--line);
  font-size:14px; font-weight:800; color:#1f2937; text-align:left; padding:14px;
  white-space:nowrap;                /* keep header labels like "Date/Time" intact */
}
tbody td{
  padding:14px; border-bottom:1px solid var(--line); font-size:15px; line-height:1.25;
  word-break:normal; overflow-wrap:normal;        /* do NOT break words anywhere */
  vertical-align:top;
}
td.right, th.right{ text-align:right; }
tbody tr:nth-child(even) td{ background:#fcfcfd; }
tbody tr:hover td{ background:#f1f9f4; }

/* Remove old green identity bar on each row */
.table-wrap tbody tr{ position:relative; }
.table-wrap tbody tr::before{ content:none; }

/* Match block */
td.match, th.match{ text-align:center; }
.match-block{ display:grid; grid-template-rows:auto auto auto; row-gap:3px; justify-items:center; }
.match-team{ display:block; line-height:1.2; }

/* Scoreline: one line, green pill */
.match-score{
  display:inline-block;
  padding:2px 10px;
  border-radius:999px;
  background:#e6f4ea;
  color:var(--accent);
  font-weight:800;
  font-size:14px;
  line-height:1.2;
  letter-spacing:.2px;
  white-space:nowrap;                /* keep "0-23 - 0-18" on one line */
}

/* Status badge */
.status-badge{
  display:inline-block; padding:3px 8px; border-radius:999px; font-weight:700; font-size:12px;
  background:#f3f4f6; color:#111;
}
.status-badge.status-Result,.status-badge.status-final,.status-badge.status-Final{ background:#e8f5e9; }
.status-badge.status-Fixture{ background:#eef2ff; }

/* Match meta line */
.match-meta{ margin-top:4px; font-size:12px; color:var(--muted); }

/* Standings spacing (no truncation/ellipsis, allow natural wrap) */
#g-standings-table thead th, #g-standings-table tbody td{ padding:8px 6px; }
#g-standings-table td:first-child, #g-standings-table th:first-child{
  white-space:normal; word-break:normal; overflow-wrap:normal;
}
#g-standings-table td:not(:first-child), #g-standings-table th:not(:first-child){ text-align:right; }
#g-standings-table tbody td:not(:first-child){ font-variant-numeric:tabular-nums; }

/* Modal standings mirror (also no truncation) */
#modal-standings thead th, #modal-standings tbody td{ padding:8px 6px; }
#modal-standings td:first-child, #modal-standings th:first-child{
  white-space:normal; word-break:normal; overflow-wrap:normal;
}
#modal-standings td:not(:first-child), #modal-standings th:not(:first-child){ text-align:right; }
#modal-standings tbody td:not(:first-child){ font-variant-numeric:tabular-nums; }

/* Controls lighter */
.controls.card{ box-shadow:none; border-radius:12px; border:1px solid var(--line); }

/* Give Team more space in both compact and expanded tables */
#g-standings-table, #modal-standings{ table-layout:fixed; width:100%; }
#g-standings-table th:first-child, #g-standings-table td:first-child,
#modal-standings th:first-child, #modal-standings td:first-child{
  width:52%;
  white-space:normal; word-break:normal; overflow-wrap:anywhere;
}
#g-standings-table th:not(:first-child), #g-standings-table td:not(:first-child),
#modal-standings th:not(:first-child), #modal-standings td:not(:first-child){
  width:auto;           /* slightly narrower numeric cols */
  min-width:2.4rem;
}


/* Mobile niceties */
@supports(padding:max(0px)){
  body{
    padding-left:max(env(safe-area-inset-left),0);
    padding-right:max(env(safe-area-inset-right),0);
  }
}
@media (max-width:880px){
  body{ margin:60px 10px 10px; }
  .navtabs{ display:none; }
  .burger{ display:inline-block; }
  .card{ padding:12px; }
  thead th, tbody td{ padding:10px 7px; font-size:13px; }
  .match-score{ font-size:13px; }
  /* Hide the S column on mobile */
  th.stcol, td.stcol { display: none; }

  /* LGH PATCH — mobile polish for Competition > Matches table */
  #g-table{ table-layout:fixed; width:100%; }
  /* R column: narrow & centred */
  #g-table thead th:nth-child(1),
  #g-table tbody td:nth-child(1){
    width:3.25rem;
    text-align:center !important;
    vertical-align:middle !important;
    white-space:nowrap;
  }
  /* Date/Time: left aligned */
  #g-table thead th:nth-child(2),
  #g-table tbody td:nth-child(2){
    text-align:left !important;
    vertical-align:middle !important;
  }
  /* Venue: centred */
  #g-table thead th:nth-child(4),
  #g-table tbody td:nth-child(4){
    text-align:center !important;
    vertical-align:middle !important;
  }
}

/* XS phones: keep Venue visible; just hide the R column */
#team-table thead th:nth-child(1), #team-table tbody td:nth-child(1),
#date-table thead th:nth-child(1), #date-table tbody td:nth-child(1){ display:none; }

thead th, tbody td{ padding:.55rem .55rem; }
.match-score{ font-size:12.5px; }


/* Footer */
.site-footer{ max-width:1100px; margin:16px auto 24px; text-align:center; color:#6b7280; font-size:12px; }

/* Back button */
.back-btn{ display:inline-flex; align-items:center; gap:6px; margin:8px 0; padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:#f9fafb; cursor:pointer; font-size:13px; color:#333; }
.back-btn i{ font-size:12px; }

/* LGH PATCH — hide modal by default; show only when opened */
.modal{ 
  position:fixed; inset:0; display:none; 
  align-items:center; justify-content:center; 
  background:rgba(0,0,0,.35); z-index:200; padding:20px;
}
.modal[aria-hidden="false"]{ display:flex; }
.modal .sheet{
  width:min(900px,96vw); max-height:90vh; overflow:auto;
  background:#fff; border-radius:16px; box-shadow:0 20px 60px rgba(0,0,0,.2);
}
.modal .sheet-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; padding:12px 14px; border-bottom:1px solid var(--line);
}
.modal .close{
  border:1px solid var(--line); border-radius:8px; padding:6px 10px;
  background:#f9fafb; cursor:pointer;
}
/* END LGH PATCH */
</style>

<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="shortcut icon" href="/favicon.ico">
</head>
<body>
  <!-- Header -->
  <div class="header">
    <div class="header-inner">
      <a href="/" class="brand">
        <img src="/favicon-32x32.png" alt="Logo">
        <h1>Limerick GAA Hub</h1>
      </a>
      <div class="navtabs">
        <div class="navtab active" data-nav="hurling">Hurling</div>
        <div class="navtab" data-nav="football">Football</div>
        <div class="navtab" data-nav="about">About</div>
      </div>
      <button class="burger" id="burger" aria-label="Open menu"><i class="fa-solid fa-bars"></i></button>
    </div>
  </div>
  <div class="oc-backdrop" id="oc-backdrop"></div>
  <div class="offcanvas" id="offcanvas" aria-hidden="true">
    <div class="oc-head">Menu</div>
    <div class="oc-body">
      <div class="oc-link" data-nav="hurling">Hurling</div>
      <div class="oc-link" data-nav="football">Football</div>
      <div class="oc-link" data-nav="about">About</div>
    </div>
  </div>

  <div id="lgh-warning" style="max-width:1100px; margin:12px auto; display:none; padding:10px 12px; background:#fff3cd; color:#664d03; border:1px solid #ffe69c; border-radius:10px;">
    Some features didn’t load. Check the JS file path and console errors.
  </div>
  <div id="lgh-error" style="max-width:1100px; margin:12px auto; display:none; padding:10px 12px; background:#fee2e2; color:#991b1b; border:1px solid #fecaca; border-radius:10px; white-space:pre-wrap;"></div>

  <!-- Hurling -->
  <div id="panel-hurling" class="card">
    <div class="section-tabs view-tabs" id="view-tabs">
      <div class="seg vt active" data-target="group-panel" id="comp-tab">Competition <i class="fa-solid fa-chevron-down" style="font-size:12px; margin-left:6px;"></i></div>
      <div class="seg vt" data-target="by-team">Team</div>
      <div class="seg vt" data-target="by-date">Date</div>
    </div>
    <div class="menu" id="comp-menu" role="menu" aria-hidden="true"></div>

    <div class="panel card" id="group-panel" style="margin-top:6px;">
      <div class="comp-selected" id="comp-selected"></div>

      <div class="section-tabs">
        <div class="seg active" data-view="matches">Matches</div>
        <div class="seg" data-view="table">Table</div>
      </div>

      <div class="controls card">
        <select id="status">
          <option value="">All (fixtures & results)</option>
          <option value="Result">Results only</option>
          <option value="Fixture">Fixtures only</option>
        </select>
      </div>

      <div class="table-wrap matches-wrap">
        <table id="g-table"><thead></thead><tbody></tbody></table>
      </div>

      <div id="g-standings" style="margin-top:12px; display:none;">
        <div style="display:flex; gap:8px; justify-content:flex-end; margin-bottom:8px;">
          <button class="iconbtn" id="btn-expand"><i class="fa-solid fa-up-right-and-down-left-from-center"></i> Expand</button>
        </div>
        <div class="table-wrap">
          <table id="g-standings-table">
            <thead>
              <tr><th>Team</th><th class="right">P</th><th class="right">W</th><th class="right">D</th><th class="right">L</th><th class="right">Pts</th></tr>
            </thead><tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="panel card" id="by-team" style="display:none; margin-top:6px;">
      <h2>By Team</h2>
      <div class="controls card"><select id="team"><option value="">Select team…</option></select></div>
      <div class="table-wrap"><table id="team-table"><thead></thead><tbody></tbody></table></div>
    </div>

    <div class="panel card" id="by-date" style="display:none; margin-top:6px;">
      <button class="back-btn" id="back-to-comp"><i class="fa-solid fa-arrow-left"></i> Back to Competition</button>
      <h2>By Date</h2>
      <div class="controls card">
        <label for="date-jump" class="sm-muted" style="margin-right:8px;">Go to date</label>
        <input id="date-jump" type="date" />
      </div>
      <div class="table-wrap"><table id="date-table"><thead></thead><tbody></tbody></table></div>
    </div>
  </div>

  <!-- Football -->
  <div id="panel-football" class="card" style="display:none;">
    <h2>Football</h2>
    <div class="sm-muted">Coming soon.</div>
  </div>

  <!-- About -->
  <div id="panel-about" class="card" style="display:none;">
    <p>Limerick GAA Hub is designed to provide a clear and intuitive overview of fixtures and results, easily filterable by competition, team, or date.</p>
    <p>Over time, the aim is to additionally build an archive of historical results.</p>
    <p>Please note, this site is not associated with Limerick GAA, it has been developed solely by a club member and Limerick supporter.</p>
    <p>
      <a href="https://www.instagram.com/limerickgaahub" target="_blank"><i class="fab fa-instagram"></i> @limerickgaahub</a>
      <a href="https://x.com/limerickgaahub" target="_blank"><i class="fab fa-x-twitter"></i> @limerickgaahub</a>
      <a href="mailto:limerickgaahub@gmail.com"><i class="fas fa-envelope"></i> limerickgaahub@gmail.com</a>
    </p>
  </div>

  <!-- Expand modal -->
  <div class="modal" id="standings-modal" aria-hidden="true">
    <div class="sheet">
      <div class="sheet-header"><h3>Table</h3><button class="close" id="modal-close">Close</button></div>
      <div class="table-wrap"><table id="modal-standings">
        <thead>
          <tr><th>Team</th><th class="right">P</th><th class="right">W</th><th class="right">D</th><th class="right">L</th><th class="right">PF</th><th class="right">PA</th><th class="right">Diff</th><th class="right">Pts</th></tr>
        </thead>
        <tbody></tbody>
      </table></div>
    </div>
  </div>

  <footer class="site-footer">Limerick GAA Hub · 2025</footer>

  <!-- JS -->
  <script src="./js/app_v7_3_3.js?v=fix11"></script>
  <script>
    // Burger
    (function(){
      const burger=document.getElementById('burger'), oc=document.getElementById('offcanvas'), bd=document.getElementById('oc-backdrop');
      const open=()=>{oc.classList.add('open'); bd.classList.add('show');};
      const close=()=>{oc.classList.remove('open'); bd.classList.remove('show');};
      burger.addEventListener('click', open);
      bd.addEventListener('click', close);
      oc.addEventListener('click', e=>{
        const link=e.target.closest('.oc-link');
        if(link){
          const tab=document.querySelector(`.navtab[data-nav="${link.dataset.nav}"]`);
          if(tab) tab.click();
          close();
        }
      });
    })();

    function closeCompMenu(){
      const menu=document.getElementById('comp-menu');
      if(menu){ menu.classList.remove('open'); menu.setAttribute('aria-hidden','true'); }
    }

    // Tabs: ensure correct visibility each time
    document.querySelectorAll('#group-panel .section-tabs .seg').forEach(seg=>{
      seg.addEventListener('click', ()=>{
        const wrap=seg.parentElement;
        wrap.querySelectorAll('.seg').forEach(s=>s.classList.remove('active'));
        seg.classList.add('active');
        const showTable = seg.getAttribute('data-view')==='table';
        document.getElementById('g-standings').style.display = showTable ? '' : 'none';
        document.querySelector('.matches-wrap').style.display = showTable ? 'none' : '';
      });
    });

    // View tab switching closes dropdown
    document.querySelectorAll('.view-tabs .vt').forEach(seg=>{
      seg.addEventListener('click', ()=>{
        if(seg.dataset.target!=='group-panel'){ closeCompMenu(); }
      });
    });
    document.querySelectorAll('.navtab').forEach(tab=>{
      tab.addEventListener('click', ()=>{ closeCompMenu(); });
    });

    // Back button
    document.addEventListener('click', e=>{
      if(e.target.closest('#back-to-comp')){
        document.querySelector('#view-tabs .vt[data-target="group-panel"]').click();
      }
    });

    // Brand click = reset to Hurling Competition
    document.querySelector('.brand').addEventListener('click', e=>{
      e.preventDefault();
      document.querySelector('.navtab[data-nav="hurling"]').click();
      document.querySelector('#view-tabs .vt[data-target="group-panel"]').click();
    });

    // Warn if app didn't init
    window.addEventListener('load', ()=>{
      if(window.LGH_V7_3_3_READY!==true && window.LGH_V7_3_READY!==true){
        document.getElementById('lgh-warning').style.display='block';
      }
      // Force default view visibility to Matches on first load
      document.getElementById('g-standings').style.display='none';
      document.querySelector('.matches-wrap').style.display='';
    });

    // Blur selects on Android to close pickers
    (function(){
      ['team','status','date-jump'].forEach(id=>{
        const el=document.getElementById(id);
        if(el){ el.addEventListener('change',()=>el.blur()); }
      });
    })();

    /* LGH PATCH — open/close the Standings modal (hidden by default) */
    document.getElementById('btn-expand')?.addEventListener('click', ()=>{
      document.getElementById('standings-modal')?.setAttribute('aria-hidden','false');
    });
    document.getElementById('modal-close')?.addEventListener('click', ()=>{
      document.getElementById('standings-modal')?.setAttribute('aria-hidden','true');
    });
    document.getElementById('standings-modal')?.addEventListener('click', (e)=>{
      if(e.target.id==='standings-modal'){ e.currentTarget.setAttribute('aria-hidden','true'); }
    });
    /* END LGH PATCH */
  </script>
</body>
</html>
